% Adds a search path to when searching for graphics. %
\graphicspath{{images/}}

% Command to compile and include SVG-images automatically.
% Requires pdflatex to allow shell escapes. (-shell-escape).
\newcommand{\executeiffilenewer}[3]{%
\ifnum\pdfstrcmp{\pdffilemoddate{#1}}%
{\pdffilemoddate{#2}}>0%
{\immediate\write18{#3}}\fi%
}
\newcommand{\includesvg}[1]{
\executeiffilenewer{#1.svg}{#1.pdf}
{inkscape -z -D --file=#1.svg --export-pdf=#1.pdf --export-latex}
\input{#1.pdf_tex}
}

% Supresses pdf version warnings. %
\pdfminorversion=5

% Prints Matlab font in a nice way. Courtesy of Erik Westrup. %
\newcommand{\matlab}{\small{\emph{MATLAB\textsuperscript{\textregistered}}}}

% New Math-commands, adds absolute and norm bars. %
\providecommand{\abs}[1]{\textbar#1\textbar}
\providecommand{\norm}[1]{\textbar \textbar#1\textbar \textbar}

% Creates a horizontal line. %
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}

\fvset{tabsize=4}            
\fvset{fontsize=\small}

% Defines listings options, for MATLAB source code. %
\definecolor{listinggray}{gray}{0.9}
\definecolor{lbcolor}{rgb}{0.9,0.9,0.9}
\lstset{
  extendedchars=\true
  inputencoding=utf8x
  backgroundcolor=\color{lbcolor}, 
  tabsize=4,
  rulecolor=,
  language=matlab,
  basicstyle=\scriptsize,
  upquote=true,
  aboveskip={1.5\baselineskip},
  columns=fixed,
  showstringspaces=false,
  extendedchars=true,
  breaklines=true,
  prebreak = \raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
  frame=single,
  showtabs=false,
  showspaces=false,
  showstringspaces=false,
  identifierstyle=\ttfamily,
  keywordstyle=\color[rgb]{0,0,1},
  commentstyle=\color[rgb]{0.133,0.545,0.133},
  stringstyle=\color[rgb]{0.627,0.126,0.941},
}
